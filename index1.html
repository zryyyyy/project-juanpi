<!DOCTYPE html>
<html>

<head>
    <title>Main.html</title>

    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    <script type="text/javascript">
        //将用户名 密码  有效期存储到cookie中  
        function setCookie(name, value, days) {
            var date = new Date();
            date.setDate(date.getDate() + days);
            if (!getCookie(name)) {
                document.cookie = name + "=" + escape(value) + ";" + ((days == null) ? "" : "dates=" + date.toGMTString());
                return true;
            } else {
                return false;
            }

        }
        //cookie中 存储是按照键值对 存储的    
        //根据name获取对应的值  
        function getCookie(name) {
            if (document.cookie.length > 0) {
                var start = document.cookie.indexOf(name + "=");
                var end = -1;
                if (start != -1) {
                    start = start + name.length + 1;
                    end = document.cookie.indexOf(";", start);
                    if (end == -1) {
                        end = document.cookie.length;
                    }
                    return document.cookie.substring(start, end);
                }
            }

        }
        //注册功能  
        function register() {
            var name = document.getElementById("name1").value;
            var password = document.getElementById("password").value;
            if (setCookie(name, password, 365)) {
                document.getElementById("name1").value = "";
                document.getElementById("password").value = "";
                alert("注册成功");
            } else {
                alert("注册失败!" + "该用户已存在！");
            }
        }
        //登录功能  
        function login() {
            var name = document.getElementById("name1").value;
            var password = document.getElementById("password").value;
            if (getCookie(name) == password) {
                alert("登录成功");
                document.getElementById("name1").value = "";
                document.getElementById("password").value = "";
            } else {
                alert("登录失败" + "用户名或者密码错误");
            }
        }

        function show() {
            if (document.cookie.length <= 0) {
                document.getElementById("div").innerHTML = "没有内容";
            } else {
                document.getElementById("div").innerHTML = document.cookie;
            }
        }
    </script>
</head>

<body>
    用户名:
    <input id="name1" type="text" />
    <br> 密码:
    <input id="password" type="password" />
    <br>
    <input type="button" value="登录" onclick="login()" />
    <input type="button" value="注册" onclick="register()" />
    <input type="button" value="显示" onclick="show()">
    <div id="div"></div>
</body>

</html>